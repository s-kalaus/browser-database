!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var o in r)("object"==typeof exports?exports:e)[o]=r[o]}}(window,function(){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=10)}([function(e,t,r){"use strict";function o(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),o(r(4)),o(r(1)),o(r(8))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),n=function(){function e(e){void 0===e&&(e={}),this.data={},this.storageKey=e.storageKey||"browser-database",this.load()}return e.prototype.getAll=function(e){var t=this;this.ensureModel(e);var r=Object.keys(this.data[e]).map(function(r){return Object.assign({id:r},t.data[e][r])});return Promise.resolve(r)},e.prototype.getById=function(e,t){if(this.ensureModel(e),void 0===this.data[e][t])return Promise.reject(new Error("Item Not Found"));var r=Object.assign({id:t},this.data[e][t]);return Promise.resolve(r)},e.prototype.insert=function(e,t){var r=this;this.ensureModel(e);var n=o.v4();return this.data[e][n]=t,this.save().then(function(){return r.getById(e,n)})},e.prototype.update=function(e,t,r){var o=this;this.ensureModel(e);var n=this.data[e][t];return void 0===n?Promise.reject(new Error("Item Not Found")):(Object.assign(n,r),this.save().then(function(){return o.getById(e,n.id)}))},e.prototype.remove=function(e,t){this.ensureModel(e);var r=this.data[e][t];return void 0===r?Promise.reject(new Error("Item Not Found")):(delete this.data[e][t],this.save().then(function(){return Promise.resolve(r)}))},e.prototype.save=function(){return Promise.resolve(this.data)},e.prototype.load=function(){return Promise.resolve(this.data)},e.prototype.ensureModel=function(e){void 0===this.data[e]&&(this.data[e]={})},e}();t.Storage=n},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var o=new Uint8Array(16);e.exports=function(){return r(o),o}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}},function(e,t){for(var r=[],o=0;o<256;++o)r[o]=(o+256).toString(16).substr(1);e.exports=function(e,t){var o=t||0,n=r;return[n[e[o++]],n[e[o++]],n[e[o++]],n[e[o++]],"-",n[e[o++]],n[e[o++]],"-",n[e[o++]],n[e[o++]],"-",n[e[o++]],n[e[o++]],"-",n[e[o++]],n[e[o++]],n[e[o++]],n[e[o++]],n[e[o++]],n[e[o++]]].join("")}},function(e,t,r){"use strict";var o=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.save=function(){try{return window.localStorage.setItem(this.storageKey,JSON.stringify(this.data)),Promise.resolve(this.data)}catch(e){return Promise.reject(new Error("Error saving to localStorage"))}},t.prototype.load=function(){try{return this.data=JSON.parse(window.localStorage.getItem(this.storageKey)||"{}"),Promise.resolve(this.data)}catch(e){return Promise.reject("Error reading from localStorage")}},t}(r(1).Storage);t.LocalStorage=n},function(e,t,r){var o=r(6),n=r(7),i=n;i.v1=o,i.v4=n,e.exports=i},function(e,t,r){var o,n,i=r(2),a=r(3),s=0,u=0;e.exports=function(e,t,r){var c=t&&r||0,f=t||[],d=(e=e||{}).node||o,l=void 0!==e.clockseq?e.clockseq:n;if(null==d||null==l){var p=i();null==d&&(d=o=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==l&&(l=n=16383&(p[6]<<8|p[7]))}var v=void 0!==e.msecs?e.msecs:(new Date).getTime(),y=void 0!==e.nsecs?e.nsecs:u+1,h=v-s+(y-u)/1e4;if(h<0&&void 0===e.clockseq&&(l=l+1&16383),(h<0||v>s)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=v,u=y,n=l;var g=(1e4*(268435455&(v+=122192928e5))+y)%4294967296;f[c++]=g>>>24&255,f[c++]=g>>>16&255,f[c++]=g>>>8&255,f[c++]=255&g;var m=v/4294967296*1e4&268435455;f[c++]=m>>>8&255,f[c++]=255&m,f[c++]=m>>>24&15|16,f[c++]=m>>>16&255,f[c++]=l>>>8|128,f[c++]=255&l;for(var b=0;b<6;++b)f[c+b]=d[b];return t||a(f)}},function(e,t,r){var o=r(2),n=r(3);e.exports=function(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||o)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||n(a)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=function(){function e(e){void 0===e&&(e={}),this.storages={localStorage:o.LocalStorage},this.storage=new this.storages[e.storageType||"localStorage"]({storageKey:e.storageKey||"browser-database"})}return e.prototype.getAll=function(e){return this.storage.getAll(e)},e.prototype.getById=function(e,t){return this.storage.getById(e,t)},e.prototype.insert=function(e,t){return this.storage.insert(e,t)},e.prototype.update=function(e,t,r){return this.storage.update(e,t,r)},e.prototype.remove=function(e,t){return this.storage.remove(e,t)},e}();t.BrowserDatabase=n},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0);window.browserDatabase=new o.BrowserDatabase(window.BROWSER_DATABASE_OPTIONS||{})}])});